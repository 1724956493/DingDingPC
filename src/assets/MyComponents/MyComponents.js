import config from "../../../build/config.js";
(function(window) {
	var svgSprite =
		'<svg><symbol id="moon-icon-androidarrowdropright" viewBox="0 0 1024 1024"><path d="M384 256 640 512 384 768Z"  ></path></symbol><symbol id="moon-icon-fangdajing" viewBox="0 0 1024 1024"><path d="M794.816 397.632c0-219.328-177.792-397.12-397.12-397.12S0.512 178.304 0.512 397.632c0 219.328 177.792 397.12 397.12 397.12S794.816 616.96 794.816 397.632zM397.696 757.696c-198.848 0-360.064-161.216-360.064-360.064 0-198.848 161.216-360.064 360.064-360.064s360.064 161.216 360.064 360.064C757.76 596.48 596.544 757.696 397.696 757.696z"  ></path><path d="M1007.616 930.88l-245.632-245.632c-21.12-21.12-55.68-21.12-76.8 0l0 0c-21.12 21.12-21.12 55.68 0 76.8l245.632 245.632c21.12 21.12 55.68 21.12 76.8 0l0 0C1028.736 986.56 1028.736 952 1007.616 930.88z"  ></path></symbol><symbol id="moon-icon-fangdajing1" viewBox="0 0 1024 1024"><path d="M989.839992 888.37509 715.608258 636.545574c19.661805-25.487487 35.94056-53.317323 48.575322-83.187631 19.668968-46.50415 29.643134-95.895047 29.643134-146.799414s-9.974166-100.295264-29.643134-146.799414c-18.995633-44.909839-46.185902-85.23936-80.815607-119.869065s-74.959226-61.819974-119.869065-80.814584c-46.50415-19.669992-95.895047-29.643134-146.800437-29.643134-50.90539 0-100.295264 9.973142-146.800437 29.643134-44.909839 18.995633-85.23936 46.184879-119.869065 80.814584s-61.819974 74.959226-80.814584 119.869065c-19.669992 46.50415-29.643134 95.895047-29.643134 146.799414s9.973142 100.295264 29.643134 146.799414c18.995633 44.910862 46.184879 85.240383 80.814584 119.870088s74.959226 61.818951 119.869065 80.814584c46.50415 19.669992 95.895047 29.644157 146.800437 29.644157 50.904367 0 100.295264-9.974166 146.800437-29.644157 39.518039-16.714683 75.484182-39.781028 107.146299-68.671009l274.300296 251.891937c11.790534 10.827603 30.29805 10.039657 41.125653-1.7519l5.519714-6.010901C1002.419496 917.710208 1001.63155 899.203716 989.839992 888.37509zM416.699494 751.194754c-190.033078 0-344.636225-154.602124-344.636225-344.635201 0-190.033078 154.603147-344.635201 344.636225-344.635201s344.635201 154.603147 344.635201 344.635201C761.334695 596.59263 606.732571 751.194754 416.699494 751.194754z"  ></path></symbol><symbol id="moon-icon-open" viewBox="0 0 1024 1024"><path d="M512 192c-176.7 0-320 143.3-320 320s143.3 320 320 320 320-143.3 320-320-143.3-320-320-320z m181 280.2L534.6 630.6c-12.5 12.5-32.8 12.5-45.3 0L331 472.2c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L512 562.7 647.8 427c12.5-12.5 32.8-12.5 45.3 0 12.4 12.5 12.4 32.7-0.1 45.2z" fill="" ></path></symbol><symbol id="moon-icon-pack-up" viewBox="0 0 1024 1024"><path d="M512 192c-176.7 0-320 143.3-320 320s143.3 320 320 320 320-143.3 320-320-143.3-320-320-320z m181 405c-12.5 12.5-32.8 12.5-45.3 0L512 461.3 376.2 597c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l158.4-158.4c12.5-12.5 32.8-12.5 45.3 0L693 551.8c12.5 12.5 12.5 32.7 0 45.2z" fill="" ></path></symbol><symbol id="moon-icon-tianjia" viewBox="0 0 1024 1024"><path d="M512 0C229.244343 0 0 229.244343 0 512s229.244343 512 512 512 512-229.244343 512-512S794.755657 0 512 0z m247.061943 543.158857H543.158857v215.903086A31.0272 31.0272 0 0 1 512 789.942857a31.0272 31.0272 0 0 1-31.158857-30.880914V543.158857H264.938057A31.0272 31.0272 0 0 1 234.057143 512c0-17.2032 13.838629-31.158857 30.880914-31.158857H480.841143V264.938057c0-17.042286 13.955657-30.880914 31.158857-30.880914s31.158857 13.838629 31.158857 30.880914V480.841143h215.903086c17.042286 0 30.880914 13.955657 30.880914 31.158857s-13.838629 31.158857-30.880914 31.158857z" fill="#F7AE00" ></path><path d="M759.061943 543.158857H543.158857v215.903086A31.0272 31.0272 0 0 1 512 789.942857a31.0272 31.0272 0 0 1-31.158857-30.880914V543.158857H264.938057A31.0272 31.0272 0 0 1 234.057143 512c0-17.2032 13.838629-31.158857 30.880914-31.158857H480.841143V264.938057c0-17.042286 13.955657-30.880914 31.158857-30.880914s31.158857 13.838629 31.158857 30.880914V480.841143h215.903086c17.042286 0 30.880914 13.955657 30.880914 31.158857s-13.838629 31.158857-30.880914 31.158857z" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-save" viewBox="0 0 1024 1024"><path d="M625.471354 391.357316h-100.587929V152.648632h100.587929v238.708684z m333.228408-135.017067v658.940631c0 23.489994-19.043728 42.535769-42.533723 42.535768H107.134019c-23.489994 0-42.533722-19.045775-42.533722-42.535768V106.23351c0-23.491017 19.043728-42.534745 42.533722-42.534746h659.004075l0.02149 0.023536c11.82328 0.2415 22.461571 5.278213 30.055526 13.252839l149.581784 145.428184v0.007163c7.956206 7.758708 12.902868 18.59245 12.902868 30.584575v1.062192c0 0.73985 0.037862 1.551332 0 2.282996z m-717.606775-2.865257V408.18354h507.96408V99.278097H241.092987v154.196895z m611.060133 257.282714h-34.237779a60.762899 60.762899 0 0 0-6.000667-0.295735c-199.982684-0.019443-399.936715-0.019443-599.896886 0a59.169611 59.169611 0 0 0-5.852288 0.295735H173.628456V922.073586h150.804634c62.550615 0.00307 125.100206 0 187.648774 0 54.673204 0 109.342314 0.004093 164.009378 0h176.061878V510.757706z" fill="#4EA1D5" ></path></symbol><symbol id="moon-icon-bianji" viewBox="0 0 1480 1024"><path d="M587.4954784-34.13333333C285.76214507-34.13333333 41.22881173 210.4 41.22881173 512.13333333c0 301.6 244.53333333 546 546.26666667 546s546.26666667-244.53333333 546.26666667-546c-0.26666667-301.73333333-244.8-546.26666667-546.26666667-546.26666666zM478.56214507 530.26666667l247.06666666-243.6 85.2 87.86666666L567.0954784 622 478.56214507 530.26666667z m67.06666666 103.6l-134.53333333 57.2 52-138.4 82.53333333 81.2z m299.2 159.73333333c0 7.33333333-6.13333333 13.46666667-13.46666666 13.46666667H302.2954784c-7.46666667 0-13.46666667-6-13.46666667-13.46666667V268.53333333c0-7.46666667 6-13.46666667 13.46666667-13.46666666h375.86666667l-55.06666667 58.4H358.96214507c-6.13333333 0-11.2 5.06666667-11.2 11.33333333v412.53333333c0 6.13333333 5.06666667 11.2 11.2 11.2h415.73333333c6.13333333 0 11.2-5.06666667 11.2-11.2V473.2l58.93333333-54.53333333v374.93333333zM880.6954784 307.33333333c-11.6 12.93333333-49.06666667 50.93333333-49.06666667 50.93333334l-89.2-88.8 43.73333334-43.73333334s20-19.06666667 46 0c26 18.93333333 48.4 43.73333333 48.4 43.73333334s11.73333333 24.93333333 0.13333333 37.86666666z" fill="#3DEAC1" ></path></symbol><symbol id="moon-icon-quxiao" viewBox="0 0 1024 1024"><path d="M921.184 263.856H412.608a8.946 8.946 0 0 0-6.68 2.992L180.976 518.232a8.976 8.976 0 0 0 0.168 12.144l224.952 237.632a8.974 8.974 0 0 0 6.512 2.8h508.576a8.96 8.96 0 0 0 8.968-8.96V272.824a8.96 8.96 0 0 0-8.968-8.968zM785.784 604.4a8.96 8.96 0 0 1-0.008 12.688l-23.056 23.024a8.968 8.968 0 0 1-12.68-0.016l-87.44-87.432-96.616 96.616c-1.688 1.672-3.968 2.624-6.344 2.624s-4.656-0.952-6.344-2.624l-23.24-23.256a8.96 8.96 0 0 1 0-12.68l96.6-96.616-95.624-95.64a8.944 8.944 0 0 1 0.016-12.688l23.096-23.016a8.96 8.96 0 0 1 12.672 0.008l95.584 95.6 88.472-88.496a8.96 8.96 0 0 1 12.688 0.008l23.24 23.288a8.952 8.952 0 0 1 0 12.672l-88.472 88.464 87.456 87.472z" fill="#0BBE06" ></path></symbol><symbol id="moon-icon-svnmoban" viewBox="0 0 1024 1024"><path d="M512.288061 65.22349c-246.182912 0-445.753203 199.569268-445.753204 445.75218 0 159.252027 84.959997 306.407552 222.87609 386.033054s307.835064 79.626525 445.75218 0c137.916093-79.626525 222.87609-226.781026 222.87609-386.033054 0.001023-246.182912-199.569268-445.75218-445.751156-445.75218z m194.384175 710.945052H326.751391c-47.859008 0-86.701664-39.395242-86.701665-88.019683V467.977367h43.348274v222.927256c0 24.305569 19.426445 44.016493 43.353391 44.016492h390.154931c23.968901 0 43.37795-19.739577 43.377949-44.016492v-357.75808c0-24.336268-19.409049-44.046169-43.377949-44.046169h-86.696548v-41.266869h86.696548c47.894823 0 86.73748 39.396265 86.73748 88.072894v352.24246c0 48.564066-38.842657 88.019683-86.73748 88.019683h-10.234086zM573.575916 408.823106l68.169589-41.525766c4.78805-2.940982 10.609639-2.886747 14.945387 0.51677 4.299933 3.373841 6.170536 9.256828 4.614087 14.742772l-32.869618 213.455534c-2.065032 7.571443-9.677407 12.20395-16.902972 10.272971L420.561963 529.368576a13.07376 13.07376 0 0 1-8.18645-6.393617 14.532995 14.532995 0 0 1-1.642406-5.232165c-0.62524-5.689582 2.26867-11.07422 7.073092-13.984502l66.878177-40.74396c-75.068719-137.356344-146.727783-185.204096-253.524111-129.213897V318.302463c159.375847-141.014664 265.884626-49.41034 342.415651 90.520643z" fill="#FFBD4A" ></path><path d="M231.160265 318.302463v15.498996c106.796328-55.990199 178.455391-8.143471 253.524111 129.213897l-66.878177 40.743959c-4.804423 2.90926-7.698333 8.29492-7.073092 13.984503a14.532995 14.532995 0 0 0 1.642406 5.232164 13.074783 13.074783 0 0 0 8.18645 6.393617l190.971449 76.916811c7.225565 1.930979 14.83794-2.701528 16.902972-10.272971l32.869619-213.455533c1.556449-5.485945-0.314155-11.367909-4.614088-14.742773-4.335748-3.40454-10.158361-3.457752-14.945387-0.516769l-68.169589 41.525765c-76.532047-139.932006-183.040826-231.53633-342.416674-90.521666z" fill="#FFFFFF" ></path><path d="M803.642778 688.149882v-352.242459c0-48.676629-38.842657-88.072895-86.73748-88.072895h-86.696548v41.266869h86.696548c23.968901 0 43.37795 19.709901 43.37795 44.046169v357.75808c0 24.276916-19.409049 44.016493-43.37795 44.016493H326.751391c-23.925922 0-43.35339-19.710924-43.353391-44.016493v-222.927255h-43.348274v220.172515c0 48.624441 38.842657 88.019683 86.701665 88.019682h390.154931c47.8938-0.002047 86.736457-39.45664 86.736456-88.020706z" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-expand-down" viewBox="0 0 1024 1024"><path d="M512 665.6l307.2-307.2H204.8l307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-expand-left" viewBox="0 0 1024 1024"><path d="M358.4 512l307.2 307.2V204.8l-307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-ios-arrow-dropright" viewBox="0 0 1024 1024"><path d="M416 325.6l27.6-25.6L672 512 443.6 724 416 698.4 616.8 512z" fill="" ></path><path d="M96 512c0 229.8 186.2 416 416 416s416-186.2 416-416S741.8 96 512 96 96 282.2 96 512z m34.6 0c0-210.2 171-381.4 381.4-381.4 210.2 0 381.4 171 381.4 381.4 0 210.2-171 381.4-381.4 381.4-210.2 0-381.4-171.2-381.4-381.4z" fill="" ></path></symbol><symbol id="moon-icon-ios-arrow-dropdown" viewBox="0 0 1024 1024"><path d="M698.4 416l25.6 27.6L512 672 300 443.6l25.6-27.6L512 616.8z" fill="" ></path><path d="M512 96C282.2 96 96 282.2 96 512s186.2 416 416 416 416-186.2 416-416S741.8 96 512 96z m0 34.6c210.2 0 381.4 171 381.4 381.4 0 210.2-171 381.4-381.4 381.4-210.2 0-381.4-171-381.4-381.4 0-210.2 171.2-381.4 381.4-381.4z" fill="" ></path></symbol><symbol id="moon-icon-cancel" viewBox="0 0 1024 1024"><path d="M482.7 249.9V106.1c0-37.4-45.3-56.2-71.7-29.7L140.3 347c-16.4 16.4-16.4 43 0 59.4L410.9 677c26.5 26.5 71.7 7.7 71.7-29.7v-155c96.1-0.3 271.5-10.7 271.5 227.7 0 118.1-92.8 216.8-216 239.6 198.1-24.4 326-236 326-361.9 0.1-292.6-309.4-346.3-381.4-347.8z" fill="#3496FB" ></path></symbol><symbol id="moon-icon-cx" viewBox="0 0 1024 1024"><path d="M382.656 47.712c210.72-19.392 380.736 143.872 396.224 333.76 17.44 212.16-141.92 380.736-333.248 396.704-212.64 17.92-380.256-141.44-397.184-332.768-8.224-93.984 25.664-209.728 90.112-274.656 16-16.48 27.136-29.056 46.976-45.056 54.24-43.584 122.56-71.2 197.152-77.984zM724.16 686.144c2.432-3.392 8.704-10.656 11.616-14.528 4.832-5.824 6.784-8.224 11.136-13.568 7.264-10.656 13.568-19.36 20.352-31.008 73.152-119.648 79.936-277.056 14.048-402.048-27.616-53.76-47.456-75.552-87.2-114.304-153.568-151.616-420.448-146.784-574.976 12.096-110.432 113.344-156.448 294.016-84.768 454.368 22.752 51.84 44.576 82.816 80.416 120.608 115.296 121.088 293.056 162.752 450.976 99.776a431.328 431.328 0 0 0 66.848-33.92c28.096-16.96 50.368-38.272 57.632-43.104 9.216 4.352 105.12 105.12 120.128 121.088 6.784 6.784 13.568 11.616 20.352 18.4l138.048 141.92c8.704 8.704 30.048 35.36 48.928 13.568 18.4-20.832-8.224-38.752-18.88-49.888l-117.696-120.608c-7.264-7.744-14.528-12.608-21.312-19.872l-58.112-59.584c-25.664-26.656-51.36-53.76-77.504-79.456z"  ></path></symbol><symbol id="moon-icon-quanxianfenpei" viewBox="0 0 1024 1024"><path d="M906.5 134.9L512 0.7 117.5 134.9c-16 5-26.9 19.7-26.8 36.5L92.9 666l0.5 6c0.8 3.7 18.3 91.9 105.6 177 67.1 65.5 199.4 118.1 269.6 154.7 11 5.8 19.3 10 24 12.6l8 4.3c5.5 2.9 12 3 17.5 0.2l11.7-5.9C570.9 995 747.3 924.7 824.9 849c87.4-85.1 104.9-173.3 105.6-177l2.7-500.6c0.1-16.8-10.8-31.6-26.7-36.5zM858 660.7c-3.3 12.8-21.9 76.2-85 137.6-60.9 59.5-194 111.8-254 141.7-5.4 2.7-11.8 2.6-17.1-0.2h-0.1C440.6 908 310.3 856.2 251 798.3c-63.3-61.6-81.7-124.8-85-137.7l-2-452.7c0-7.3 4.8-13.8 11.7-16L500.5 79.7c7.4-2.3 15.4-2.3 22.8 0l324.8 112.2c7.1 2.2 11.9 8.7 11.8 16L858 660.7zM629.1 484.6c0.8-0.7 1.5-1.5 2.3-2.2 28.6-28.6 44.5-67.4 44.2-107.9-0.3-40.4-16.8-79-45.8-107.2C600 238.2 560 222 518.4 222.1c-41.7-0.3-81.8 15.8-111.7 44.8-29.6 28.4-46.4 67.6-46.5 108.6-0.1 41 16.5 80.3 45.9 108.9 20 19.4 44.9 33.1 72 39.7l-1 248.8v0.2c0.2 21.3 17.8 38.4 39.3 38.3 10.4 0 20.4-4 27.9-11.2 7.4-7.1 11.6-16.9 11.6-27.2l0.3-107.3 65.1 0.2c10.4 0.1 20.4-4 27.9-11.2 7.4-7.1 11.6-16.9 11.6-27.2v-0.2c-0.2-21.3-17.8-38.4-39.3-38.3l-65.1-0.1 0.4-64.6c27.2-6.7 52.1-20.3 72.3-39.7z m-109-22.3c-23.9 0.1-46.8-9.2-63.9-25.9-16.9-16.4-26.4-39-26.3-62.6 0-23.5 9.7-46 26.7-62.2 35.7-34.4 92.5-34.3 128.1 0.2 16.9 16.4 26.5 38.9 26.3 62.5v-0.1c-0.1 47.3-42.2 88.3-90.9 88.1z" fill="#2196F3" ></path></symbol><symbol id="moon-icon-fenpeijiaose" viewBox="0 0 1024 1024"><path d="M555.008 904.704v-268.8c0-42.496 21.504-80.896 55.296-102.4v-4.096s128-68.096 123.904-285.696C730.112 157.696 678.912 0 512.512 0h-8.704c-170.496 0-217.6 153.6-221.696 243.2-4.096 204.8 123.904 285.696 123.904 285.696s16.896 16.896 16.896 47.104c0 8.704-12.8 21.504-21.504 29.696-72.704 55.296-324.096 115.2-341.504 234.496-12.8 51.2-89.6 132.096 162.304 166.4 68.096 8.704 162.304 12.8 290.304 12.8 51.2 0 93.696 0 132.096-4.096-21.504-12.8-38.4-25.6-42.496-29.696-21.504-8.704-47.104-38.4-47.104-80.896z" fill="#1296DB" ></path><path d="M939.008 597.504h-256c-21.504 0-42.496 16.896-42.496 38.4v268.8c0 8.704 8.704 16.896 8.704 16.896l144.896 98.304c8.704 4.096 12.8 4.096 16.896 4.096s8.704 0 16.896-8.704L972.8 916.992s8.704-4.096 8.704-12.8v-268.8c0-20.992-16.896-37.888-42.496-37.888z m-4.096 148.992c-16.896 21.504-47.104 51.2-47.104 51.2s4.096 34.304 8.704 59.904c0 8.704-8.704 16.896-16.896 16.896h-8.704c-21.504-8.704-55.296-25.6-59.904-29.696-8.704 4.096-38.4 16.896-64 29.696h-8.704c-8.704 0-16.896-8.704-16.896-16.896 4.096-25.6 8.704-59.904 8.704-59.904s-29.696-34.304-47.104-51.2c-4.096-8.704-4.096-16.896 8.704-16.896 25.6-4.096 64-12.8 64-12.8s21.504-34.304 34.304-55.296C806.912 640 806.912 640 811.52 640s4.096 0 16.896 16.896c12.8 21.504 34.304 55.296 34.304 55.296s38.4 8.704 64 12.8c12.288 4.608 16.384 17.408 8.192 21.504z" fill="#1296DB" ></path></symbol><symbol id="moon-icon-xitongguanlizhiquanxianpeizhibanG" viewBox="0 0 1024 1024"><path d="M1001.01368 173.950896L841.332194 15.628401a51.641672 51.641672 0 0 0-73.385534 0L76.899546 707.35501a25.820836 25.820836 0 0 0 0 6.794957L3.514012 968.960849a43.487724 43.487724 0 0 0 10.871931 42.128733 44.16722 44.16722 0 0 0 30.577306 12.230922h11.551427l252.772395-67.949568a23.102853 23.102853 0 0 0 8.153948 0L1011.206115 257.528865a67.949569 67.949569 0 0 0-10.192435-83.577969zM71.463581 951.293962l53.000663-199.771732L275.312287 905.76775z m106.680822-251.413405l462.736563-462.057067 150.848043 151.527539-462.736563 462.057067z m512.339748-511.660252l109.398806-109.398805 150.848042 152.207034L841.332194 339.747843z m0 0" fill="#2EC7C9" ></path></symbol><symbol id="moon-icon-xiugai" viewBox="0 0 1024 1024"><path d="M728.05625001 883.25416638H242.675c-31.01249971 0-56.25-25.23750029-56.25-56.25V258.97291666c0-31.01249971 25.23750029-56.25 56.25-56.24999998h327.28124971a18.74999971 18.74999971 0 1 1 0 37.50000028H242.675c-10.33125029 0-18.74999971 8.41875029-18.74999971 18.74999972v568.05000028c0 10.35 8.41875029 18.74999971 18.74999971 18.7499997h485.39999971a18.74999971 18.74999971 0 0 0 18.75000058-18.7499997V414.48541696a18.74999971 18.74999971 0 1 1 37.49999942 0v412.51874942a56.32499971 56.32499971 0 0 1-56.26874972 56.25z" fill="#00A0E8" ></path><path d="M687.79999971 598.47916696a18.74999971 18.74999971 0 0 1-18.74999971 18.74999971H298.71874971a18.74999971 18.74999971 0 1 1 0-37.50000029h370.33125029a18.74999971 18.74999971 0 0 1 18.74999971 18.75000058zM687.78125001 743.79166667a18.74999971 18.74999971 0 0 1-18.74999972 18.74999971h-370.31250058a18.74999971 18.74999971 0 1 1 0-37.49999942h370.31250058a18.74999971 18.74999971 0 0 1 18.7499997 18.74999971zM481.53124971 453.16666638a18.74999971 18.74999971 0 0 1-18.7499997 18.75000058h-164.0625003a18.74999971 18.74999971 0 1 1 0-37.50000029h164.06250028a18.74999971 18.74999971 0 0 1 18.74999972 18.74999971zM866.7125 140.30416638a18.71250029 18.71250029 0 0 1 0 26.51250058L591.61249971 441.91666638a18.69374971 18.69374971 0 0 1-26.51249971 0 18.69374971 18.69374971 0 0 1 0-26.51249971L840.20000029 140.30416638a18.74999971 18.74999971 0 0 1 26.51249971 0z" fill="#00A0E8" ></path></symbol><symbol id="moon-icon-quxiao1" viewBox="0 0 1024 1024"><path d="M482.7 249.9V106.1c0-37.4-45.3-56.2-71.7-29.7L140.3 347c-16.4 16.4-16.4 43 0 59.4L410.9 677c26.5 26.5 71.7 7.7 71.7-29.7v-155c96.1-0.3 271.5-10.7 271.5 227.7 0 118.1-92.8 216.8-216 239.6 198.1-24.4 326-236 326-361.9 0.1-292.6-309.4-346.3-381.4-347.8z" fill="#3496FB" ></path></symbol><symbol id="moon-icon-daochu2" viewBox="0 0 1024 1024"><path d="M512 0C229.451852 0 0 229.451852 0 512s229.451852 512 512 512 512-229.451852 512-512S794.548148 0 512 0z m235.77284 690.883951c0 44.246914-36.02963 79.644444-80.908642 79.644444H343.22963c-44.879012 0-80.908642-35.397531-80.908642-79.644444V332.483951c0-44.246914 36.02963-79.644444 80.908642-79.644445h202.271605v39.822222H340.701235c-22.123457 0-40.454321 17.698765-40.454321 39.822223v358.4c0 22.123457 18.330864 39.822222 40.454321 39.822222h328.691358c22.123457 0 40.454321-17.698765 40.454321-39.822222V611.239506h37.925926v79.644445z m8.849382-206.064198c-3.792593 3.160494-9.481481 3.160494-13.274074 0.632099l-61.31358-37.293827c-68.898765 126.419753-164.977778 208.592593-308.464198 81.54074v-13.906172c96.079012 50.567901 160.553086 7.585185 228.819753-116.306173l-60.049382-36.661729c-4.424691-2.528395-6.953086-7.585185-6.320988-12.641975 0-1.896296 0.632099-3.160494 1.264198-4.424691 1.264198-2.528395 4.424691-5.05679 7.585185-5.688889l171.930864-69.530864c6.320988-1.896296 13.274074 2.528395 15.17037 9.481481l29.708642 192.158025c0.632099 4.424691-1.264198 9.481481-5.05679 12.641975z" fill="#1296db" ></path></symbol><symbol id="moon-icon-zhankai" viewBox="0 0 1024 1024"><path d="M0 0h1024v1024H0z" fill="#FFFFFF" ></path><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#323333" ></path><path d="M774.208 398.976l-265.088 338.88-265.024-338.88" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-shouqi1" viewBox="0 0 1024 1024"><path d="M0 0h1024v1024H0z" fill="#FFFFFF" ></path><path d="M512 511.936m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#323333" ></path><path d="M385.024 228.992l338.88 265.088-338.88 265.024" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-shanchu1" viewBox="0 0 1024 1024"><path d="M818.463834 329.513806c-21.12104-1.780553-38.120203 7.716752-43.774993 28.494984-3.978614 14.622022-3.308349 30.726815-3.338025 46.170552-0.234337 122.535801 0.019443 245.073648-0.206708 367.609449-0.118704 64.266699-9.815553 73.821309-75.745125 74.074066-91.470271 0.350994-182.942589 0.11154-274.413883 0.085958-37.968753-0.010233-75.990718 1.128707-113.889887-0.531096-39.872103-1.746784-51.571562-14.626115-53.769624-54.027497-0.671289-12.046361-0.202615-24.156166-0.204661-36.238342-0.01228-120.810506 0.229221-241.621013-0.146333-362.431519-0.137123-43.958164-14.041808-63.374376-43.140543-63.47466-29.208229-0.099261-42.382273 18.336624-42.510186 63.567781-0.397043 139.794883-0.833995 279.595906 0.154519 419.383626 0.566912 80.107479 41.47767 119.745245 122.553197 120.685663 72.476685 0.840134 144.970766 0.174985 217.45666 0.197498 70.761624 0.021489 141.522224 0.021489 212.283848 0.021489 1.725294 0 3.450589 0.00614 5.176906-0.008186 93.924159-0.784876 131.718951-38.269605 131.9758-132.318608 0.36532-132.892683 0.163729-265.784342 0.014326-398.677025-0.01535-13.758352-0.032746-27.731598-2.317789-41.222867C851.314009 341.320713 837.225129 331.095837 818.463834 329.513806z" fill="#d81e06" ></path><path d="M879.064027 177.462784c-39.520085-2.484587-79.342046-2.117221-118.952182-0.704035-44.200688 1.576915-81.3334-9.110495-107.9762-47.437405-19.078521-27.445072-46.490847-39.258119-80.30907-38.256302-36.187177 1.074472-72.500221 1.608637-108.631116-0.167822-39.285748-1.929955-70.977541 9.523911-94.120634 42.34441-22.954805 32.553417-55.67502 44.070728-94.330412 43.310412-32.758078-0.645706-65.537645-0.150426-98.308003-0.081864-10.345626 0.022513-20.800745-0.617054-31.012318 0.630357-27.109428 3.310396-43.039235 19.72218-42.742477 42.798758 0.300852 23.336498 15.927761 40.405245 43.649126 41.260729 53.41863 1.647523 106.96415-0.656963 160.362314 1.285273 39.526225 1.437745 71.366398-10.390651 93.838202-43.12724 22.791076-33.205263 53.417607-46.608527 93.278453-42.632983 18.788925 1.873674 37.923728 0.836041 56.880475 0.305969 24.25645-0.677429 45.822628 7.486508 58.449203 27.278273 33.412994 52.375881 82.32089 63.420425 139.13792 57.910944 11.960403-1.160429 36.201503-0.415462 36.201503-0.536212 31.043017 0 62.089104 0.200568 93.129051-0.074701 18.818601-0.168846 33.249265-7.779174 40.406269-26.260084C928.918481 207.140711 912.082024 179.540096 879.064027 177.462784z" fill="#d81e06" ></path><path d="M577.061808 716.963115c4.181229 26.720571 21.162995 42.404786 44.261063 41.200354 24.350594-1.27197 37.20946-15.839757 40.84015-38.865169 1.595334-10.118452 1.535983-20.560268 1.549286-30.855752 0.104377-89.439008 0.218988-178.876993-0.118704-268.314978-0.051165-13.631462-0.716314-27.686573-4.086062-40.777729-4.826935-18.753109-19.182898-28.086685-38.33919-28.541033-19.127639-0.453325-34.174334 8.351202-40.080857 26.431999-4.14746 12.691043-4.606925 26.938536-4.771677 40.512692-0.544399 44.713364-0.204661 89.436962-0.208754 134.156466-0.004093 44.718481-0.050142 89.437985 0.028653 134.157489C576.153112 696.377264 575.479777 706.861036 577.061808 716.963115z" fill="#d81e06" ></path><path d="M403.319765 758.160399c21.724791 0.38988 36.022425-11.344373 41.561581-31.697933 3.095501-11.370978 3.317559-23.757077 3.349281-35.68985 0.248663-91.167373 0.158612-182.334745 0.088004-273.504164-0.00614-8.585539 0.346901-17.339924-1.116427-25.727964-4.732791-27.154453-20.99108-41.872666-44.685735-40.73168-24.588001 1.182942-37.143968 16.211217-40.84629 38.933731-1.919722 11.776208-1.372254 24.003693-1.412163 36.028565-0.140193 43.00342-0.054235 86.006839-0.051165 129.010259 0.00307 44.724621-0.174985 89.450265 0.119727 134.171816 0.078795 11.969613 0.081864 24.288173 2.798742 35.814694C367.958396 745.270834 381.50697 757.768473 403.319765 758.160399z" fill="#d81e06" ></path></symbol><symbol id="moon-icon-save1" viewBox="0 0 1024 1024"><path d="M302.4896 827.14624H421.888v192.18432H302.4896v-192.18432zM960.55296 40.96H22.48704A22.40512 22.40512 0 0 0 0 63.2832v806.912l150.3232 147.456h68.64896v-284.79488h452.15744v284.63104h-0.69632 290.11968A22.40512 22.40512 0 0 0 983.04 995.328V63.2832A22.40512 22.40512 0 0 0 960.55296 40.96z m-134.43072 491.52H156.91776V94.4128h669.20448V532.48zM302.4896 1017.48736H421.888V1024H302.4896v-6.51264z" fill="#1987D4" ></path></symbol><symbol id="moon-icon-shanchu" viewBox="0 0 1024 1024"><path d="M579.2 752v-377.6c0-44.8 67.2-44.8 67.2 0v377.6c3.2 44.8-67.2 44.8-67.2 0z m-204.8 0v-377.6c0-44.8 67.2-44.8 67.2 0v377.6c3.2 44.8-67.2 44.8-67.2 0zM960 204.8h-172.8V134.4c0-57.6-44.8-102.4-102.4-102.4H339.2c-57.6 0-102.4 44.8-102.4 102.4v67.2H64C19.2 201.6 19.2 268.8 64 268.8h896c41.6 3.2 41.6-64 0-64zM307.2 134.4c0-19.2 16-35.2 35.2-35.2h345.6c19.2 0 32 12.8 32 35.2v67.2H307.2V134.4z m444.8 857.6h-480c-57.6 0-102.4-44.8-102.4-102.4V374.4c0-19.2 16-35.2 35.2-35.2 19.2 0 35.2 12.8 35.2 35.2v515.2c0 19.2 16 35.2 35.2 35.2h480c19.2 0 35.2-16 35.2-35.2v-512c0-44.8 67.2-44.8 67.2 0v512c-3.2 57.6-48 102.4-105.6 102.4z" fill="#d81e06" ></path></symbol><symbol id="moon-icon-quxiao2" viewBox="0 0 1024 1024"><path d="M511.4 66.3C265 66.3 65.2 266.1 65.2 512.5S265 958.7 511.4 958.7 957.6 759 957.6 512.5 757.9 66.3 511.4 66.3z m223.4 624.4c12.5 12.5 12.5 32.8 0 45.3-6.2 6.2-14.4 9.4-22.6 9.4s-16.4-3.1-22.6-9.4L511.4 557.8 333.3 735.9c-6.2 6.2-14.4 9.4-22.6 9.4s-16.4-3.1-22.6-9.4c-12.5-12.5-12.5-32.8 0-45.3l178.2-178.2-178.3-178c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l178.2 178.2 178.2-178.2c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L556.7 512.5l178.1 178.2z" fill="#32AF50" ></path></symbol><symbol id="moon-icon-arrow-dropdown" viewBox="0 0 1024 1024"><path d="M295.2 421.4c-15 15-15 39.6 0 54.6l191.4 190.8c14.6 14.6 38.2 15 53.2 1.2l188.6-188c7.6-7.6 11.4-17.4 11.4-27.4 0-9.8-3.8-19.8-11.2-27.2-15-15-39.4-15.2-54.6 0l-162 159.6-162.2-163.8c-15-15-39.4-15-54.6 0.2z" fill="" ></path><path d="M96 512c0 229.8 186.2 416 416 416s416-186.2 416-416S741.8 96 512 96 96 282.2 96 512z m664.8-248.8C827.4 329.6 864 418 864 512s-36.6 182.4-103.2 248.8C694.4 827.4 606 864 512 864s-182.4-36.6-248.8-103.2C196.6 694.4 160 606 160 512s36.6-182.4 103.2-248.8C329.6 196.6 418 160 512 160s182.4 36.6 248.8 103.2z" fill="" ></path></symbol><symbol id="moon-icon-arrow-dropdown1" viewBox="0 0 1024 1024"><path d="M256 384l256 256 256-256z" fill="" ></path></symbol><symbol id="moon-icon-expand-up" viewBox="0 0 1024 1024"><path d="M512 358.4l307.2 307.2L204.8 665.6l307.2-307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-expand-right" viewBox="0 0 1024 1024"><path d="M665.6 512l-307.2 307.2L358.4 204.8l307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-edit" viewBox="0 0 1094 1024"><path d="M762.65253627 50.24563911c20.07368443-20.04860865 53.24192925-19.40223904 74.42725963 1.77751598l114.32387972 114.32945148c21.04881152 21.04323972 21.91249551 54.29785188 1.80537673 74.42168604L390.32121991 803.65655326c-10.02151843 9.99644445-29.17579727 21.15468103-43.2204108 24.97717893l-181.50176616 49.57823918c-27.67131546 7.57255708-44.34877219-8.96838079-37.3417892-36.55890071l47.04290873-185.3883424c3.50209898-13.82172735 14.60461583-33.27133113 24.49518894-43.16469105L762.68318385 50.21220477l-0.03064758 0.03343434zM237.89773834 651.22749987c-3.66926366 3.67204863-10.24440461 15.25377043-11.53435707 20.24084906l-36.78178868 144.96236765 141.41012065-38.61223945c5.60001387-1.53512761 17.21795503-8.26907642 21.23269159-12.28381295L915.10945044 202.64404493l-114.32945146-114.29601889L237.89773834 651.22749987z m522.98006698-523.00235597l114.32945148 114.32945328-38.12467588 38.12467589-114.30437571-114.32945147 38.10238689-38.10238871v-0.02228899zM303.61572095 585.50951905l114.29880391 114.3294515-38.10238691 38.1023869-114.3210929-114.30437751 38.09402832-38.12746089h0.03064758zM114.02876019 963.786324c0-14.87486497 11.90769251-32.47451227 27.10574137-32.47451229h813.42022655c14.88322357 0 26.94693533 17.59128868 26.94693533 32.47451229 0 14.88043676-12.06371356 34.68387204-26.94693533 34.68387023H141.13450156a26.9580807 26.9580807 0 0 1-19.15706387-7.83166083c-5.08737635-5.05672878-7.94867751-19.67806177-7.9486775-26.8522094z m0 0" fill="#1296db" ></path></symbol><symbol id="moon-icon-yidong" viewBox="0 0 1024 1024"><path d="M7.168 512c0 279.04 226.304 505.344 505.344 505.344s505.344-226.304 505.344-505.344-226.304-505.344-505.344-505.344S7.168 232.96 7.168 512z" fill="#3675FF" ></path><path d="M632.32 537.6c-8.192-8.192-20.992-8.192-29.184 0-8.192 8.192-8.192 20.992 0 29.184l86.016 86.016H296.448c-11.264 0-20.48 9.216-20.48 20.48s9.216 20.48 20.48 20.48h392.704L604.16 778.752c-8.192 8.192-8.192 20.992 0 29.184 4.096 4.096 9.216 6.144 14.336 6.144s10.24-2.048 14.336-6.144l134.656-134.656-135.168-135.68zM731.136 333.312H337.92l85.504-86.016c8.192-8.192 8.192-20.992 0-29.184-8.192-8.192-20.992-8.192-29.184 0L259.584 353.792l135.168 135.168c4.096 4.096 9.216 6.144 14.336 6.144s10.24-2.048 14.336-6.144c8.192-8.192 8.192-20.992 0-29.184L338.432 374.272h392.704c11.264 0 20.48-9.216 20.48-20.48s-9.216-20.48-20.48-20.48z" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-distribute" viewBox="0 0 1024 1024"><path d="M906.5 134.9L512 0.7 117.5 134.9c-16 5-26.9 19.7-26.8 36.5L92.9 666l0.5 6c0.8 3.7 18.3 91.9 105.6 177 67.1 65.5 199.4 118.1 269.6 154.7 11 5.8 19.3 10 24 12.6l8 4.3c5.5 2.9 12 3 17.5 0.2l11.7-5.9C570.9 995 747.3 924.7 824.9 849c87.4-85.1 104.9-173.3 105.6-177l2.7-500.6c0.1-16.8-10.8-31.6-26.7-36.5zM630 594.7c23.3-0.2 42.3 18.3 42.5 41.3v0.2c-0.1 11.1-4.6 21.7-12.6 29.3-8.1 7.8-18.9 12.2-30.1 12.1l-70.4-0.2-0.3 116c-0.1 11.1-4.6 21.7-12.6 29.4-8.1 7.8-18.9 12.2-30.1 12.2-23.3 0.2-42.3-18.3-42.5-41.3v-0.2l1-268.8c-29.3-7.1-56.1-22-77.8-42.9-31.8-30.8-49.7-73.3-49.6-117.6 0.1-44.3 18.2-86.7 50.2-117.3 32.3-31.3 75.7-48.7 120.7-48.4v0.1c45-0.2 88.2 17.4 120.3 48.8 31.3 30.4 49.2 72.1 49.5 115.8 0.3 43.7-16.9 85.7-47.8 116.5-0.8 0.8-1.6 1.6-2.5 2.4-21.8 20.9-48.7 35.6-78.1 42.6l-0.4 69.8 70.6 0.2z" fill="#2196F3" ></path><path d="M520.3 458c-25.8 0.1-50.6-9.9-69-27.9-18.3-17.7-28.5-42.1-28.5-67.6 0-25.4 10.4-49.7 28.8-67.2 38.5-37.1 100-37 138.4 0.3 18.3 17.7 28.6 42 28.5 67.5v-0.1c-0.2 50.8-45.7 95.1-98.2 95z" fill="#2196F3" ></path></symbol></svg>';
	var script = function() {
		var scripts = document.getElementsByTagName("script");
		return scripts[scripts.length - 1]
	}();
	var shouldInjectCss = script.getAttribute("data-injectcss");
	var ready = function(fn) {
		if(document.addEventListener) {
			if(~["complete", "loaded", "interactive"].indexOf(document.readyState)) {
				setTimeout(fn, 0)
			}
			else {
				var loadFn = function() {
					document.removeEventListener("DOMContentLoaded", loadFn, false);
					fn()
				};
				document.addEventListener("DOMContentLoaded", loadFn, false)
			}
		}
		else if(document.attachEvent) {
			IEContentLoaded(window, fn)
		}

		function IEContentLoaded(w, fn) {
			var d = w.document,
				done = false,
				init = function() {
					if(!done) {
						done = true;
						fn()
					}
				};
			var polling = function() {
				try {
					d.documentElement.doScroll("left")
				}
				catch(e) {
					setTimeout(polling, 50);
					return
				}
				init()
			};
			polling();
			d.onreadystatechange = function() {
				if(d.readyState == "complete") {
					d.onreadystatechange = null;
					init()
				}
			}
		}
	};
	var before = function(el, target) {
		target.parentNode.insertBefore(el, target)
	};
	var prepend = function(el, target) {
		if(target.firstChild) {
			before(el, target.firstChild)
		}
		else {
			target.appendChild(el)
		}
	};

	function appendSvg() {
		var div, svg;
		div = document.createElement("div");
		div.innerHTML = svgSprite;
		svgSprite = null;
		svg = div.getElementsByTagName("svg")[0];
		if(svg) {
			svg.setAttribute("aria-hidden", "true");
			svg.style.position = "absolute";
			svg.style.width = 0;
			svg.style.height = 0;
			svg.style.overflow = "hidden";
			prepend(svg, document.body)
		}
	}
	if(shouldInjectCss && !window.__iconfont__svg__cssinject__) {
		window.__iconfont__svg__cssinject__ = true;
		try {
			document.write(
				"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>"
			)
		}
		catch(e) {
			console && console.log(e)
		}
	}
	ready(appendSvg)
})(window)
const MyComponents = {
	install: function(Vue) { /**全局过滤器*/
		Vue.filter('formatDate', function(value) {
			return Vue.prototype.comMethods.formatDate(value)
		})
		/**自定义全局方法*/
		Vue.prototype.comMethods = {
			sortQuick(arr, low, high, desc) {
				//默认升序
				var i, j, x;
				i = low;
				j = high;
				x = arr[i];
				if(!desc) {
					if(low < high) { //这个条件用来结束递归 
						while(i < j) {
							while(i < j && arr[j] > x) {
								j--; //从右向左找第一个小于x的数
							}
							if(i < j) {
								arr[i] = arr[j];
								i++;
							}
							while(i < j && arr[i] < x) {
								i++; //从左向右找第一个大于x的数
							}
							if(i < j) {
								arr[j] = arr[i];
								j--;
							}
						}
						arr[i] = x;
						Vue.prototype.comMethods.sortQuick(arr, low, i - 1);
						Vue.prototype.comMethods.sortQuick(arr, i + 1, high);
					}
				}
				else {
					if(low < high) { //这个条件用来结束递归  
						while(i < j) {
							while(i < j && arr[j] < x) {
								j--; //从右向左找第一个小于x的数
							}
							if(i < j) {
								arr[i] = arr[j];
								i++;
							}
							while(i < j && arr[i] > x) {
								i++; //从左向右找第一个大于x的数
							}
							if(i < j) {
								arr[j] = arr[i];
								j--;
							}
						}
						arr[i] = x;
						Vue.prototype.comMethods.sortQuick(arr, low, i - 1, desc);
						Vue.prototype.comMethods.sortQuick(arr, i + 1, high, desc);
					}
				}
			},
			sortNumberOrString(arr, desc) {
				if(!desc) arr.sort(function(s, t) {
					var a, b;
					try {
						a = s.toLowerCase();
					}
					catch(e) {
						a = s;
					}
					try {
						b = t.toLowerCase();
					}
					catch(e) {
						b = t;
					}
					if(a < b) return -1; //从小到大排序
					if(a > b) return 1;
					return 0;
				})
				else arr.sort(function(s, t) {
					var a, b;
					try {
						a = s.toLowerCase();
					}
					catch(e) {
						a = s;
					}
					try {
						b = t.toLowerCase();
					}
					catch(e) {
						b = t;
					}
					if(a < b) return 1;
					if(a > b) return -1;
					return 0;
				})
			},
			sortJsonArray(arr, keyName, desc) {
				var objectArraySort = function(keyName) {
					return function(objectN, objectM) {
						var valueN = objectN[keyName]
						var valueM = objectM[keyName]
						if(valueN < valueM) return -1
						else if(valueN > valueM) return 1
						else return 0
					}
				}
				var objectArraySortDesc = function(keyName) {
					return function(objectN, objectM) {
						var valueN = objectN[keyName]
						var valueM = objectM[keyName]
						if(valueN < valueM) return 1 //从大到小排序
						else if(valueN > valueM) return -1
						else return 0
					}
				}
				if(!desc) arr.sort(objectArraySort(keyName))
				else arr.sort(objectArraySortDesc(keyName))
			},
			ArrayRemoveByIndexArray(arr, indexArray) {
				if(Array.isArray(indexArray)) {
					//将indexArray升序排列
					Vue.prototype.comMethods.sortQuick(indexArray, 0, indexArray.length - 1);
				}
				indexArray.forEach(function(value, index) {
					arr.splice((value - index), 1)
				})
			},
			remakeObj(obj) {
				var returnNew = []
				var key;
				if(obj instanceof Array) {
					obj.forEach(function(item) {
						returnNew.push({
							"uuid": comMethods.guid(),
							"content": item
						})
					}.bind(this))
				}
				else {
					for(key in obj) {
						returnNew.push({
							"uuid": comMethods.guid(),
							"content": {
								[key]: obj[key]
							}
						})
					}
				}
				return returnNew;
			},
			guid() {
				var uuid = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
					var r = Math.random() * 16 | 0,
						v = c == 'x' ? r : (r & 0x3 | 0x8);
					return v.toString(16)
				});
				return uuid;
			},
			compressImage(img) {
				var canvas = document.createElement("canvas");
				var width = img.width;
				var height = img.height;
				if(width > height) {
					height = 800 * height / width;
					width = 800;
				}
				else {
					width = 800 * width / height;
					height = 800;
				}
				canvas.width = width;
				/*设置新的图片的宽度*/
				canvas.height = height;
				/*设置新的图片的长度*/
				var ctx = canvas.getContext("2d");
				ctx.drawImage(img, 0, 0, width, height);
				/*绘图*/
				var dataURL = canvas.toDataURL("image/png", 0.8);
				return dataURL;
				//			return dataURL.replace("data:image/png;base64,", "");
			},
			projectPath() {
				var curWwwPath = window.document.location.href;
				var pathName = window.document.location.pathname;
				var pos = curWwwPath.indexOf(pathName);
				var localhostPaht = curWwwPath.substring(0, pos);
				var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
				var realPath = localhostPaht + projectName;
				return config.env == 'development' ? '/apis' : realPath;
			},
			/*时间格式化 yyyy-MM-dd yyyy-MM-dd HH:mm:ss yyyy-MM-dd HH:mm:ss.S*/
			formatDate(date, fmt) {
				var init;
				try {
					if(date) {
						if(typeof date == "number" || (typeof date == "string" && date.indexOf("yyyy") != -1)) {
							init = new Date();
							fmt = date;
						}
						else {
							if(typeof date == "string") init = new Date(date.replace(/\-/g, '/'))
							else init = new Date(date)
						}
					}
					else init = new Date()
					//匹配iso系统
					if(init == 'Invalid Date') {
						let formatdate = date.replace(/\-/g, '/').split(".")[0] //ios系统支持到秒，去掉毫秒数
						init = new Date(formatdate)
					}
				}
				catch(e) {
					console.log(e)
					init = new Date()
				}
				if(fmt) {
					switch(fmt) {
						case 0:
							fmt = "yyyy-MM-dd";
							break;
						case 1:
							fmt = "yyyy-MM-dd HH:mm:ss";
							break;
						case 2:
							fmt = "yyyy-MM-dd HH:mm:ss.S";
							break;
					}
				}
				else {
					fmt = "yyyy-MM-dd"
				}
				var o = {
					"M+": init.getMonth() + 1, //月份 
					"d+": init.getDate(), //日 
					"H+": init.getHours(), //小时 
					"m+": init.getMinutes(), //分 
					"s+": init.getSeconds(), //秒 
					"q+": Math.floor((init.getMonth() + 3) / 3), //季度 
					"S": init.getMilliseconds() //毫秒 
				};
				if(/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (init.getFullYear() + "").substr(4 -
					RegExp.$1.length));
				for(var k in o)
					if(new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ?
						(o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
				return fmt;
			},
			/*获取元素left，top ，width，height*/
			getElemPos(obj) {
				var pos = {
					"top": 0,
					"left": 0,
					"width": obj.offsetWidth,
					"height": obj.offsetHeight
				};
				if(obj.offsetParent) {
					while(obj.offsetParent) {
						pos.top += obj.offsetTop;
						pos.left += obj.offsetLeft;
						obj = obj.offsetParent;
					}
				}
				else if(obj.x) {
					pos.left += obj.x;
				}
				else if(obj.x) {
					pos.top += obj.y;
				}
				return pos;
			}
		}
		/**  
		 *全局组件autocomplete-input
		 * 具体功能：
		 * 一：输入自动匹配数据，适用于pc和手机端
		 * 二：当输入框获取焦点，根据输入框中的值，匹配出下拉菜单。没有值则下拉菜单显示全部数据
		 * 三：点击下拉菜单匹配出的数据，自动填充输入框，
		 * 四：点击页面除输入框和下拉菜单以外的区域关闭下拉菜
		 * 五：下拉菜单中的元素大于等于1个，点击页面其他区域/Enter键/Tab键会自动优先选择所筛选的数据中第一个与筛选条件完全相符的数据，若都不符则选择第一个数据返回。（点击触发和Tab键需要input中有待匹配值）
		 * 六：下拉菜单支持键盘 上下键选择，Enter键/Tab键/点击页面其他区域确认。
		 * 七：支持不同数据类型的混合使用，即原始数组中的每个数据类型可以不同，对象字符类型，数值，布尔型可以同时存在，对象的话必须指定，对象的某个字段作为赛选依据
		 * 八：下拉菜单的高度， 默认根据下拉个数及每个数所占的高度动态显示， 也可以指定下拉菜单的显示的最大个数，超出的用滚动条显示。数的高度需要手动赋予，默认为25px
		 * 九：当下拉菜单使用键盘上下键选择时，超出的部分可以自动滚动出现
		 * 十：当数据被选择（或者手动填写完，此时 需要Enter键键/Tab键/点击页面其他区域确认），将匹配到的数据返回，对象则返回对象，字符串则返回字符串,若匹配失败则返回空字符串
		 * API:
		 * <moon-autocomplete-input v-model="value" :data="initData" placeholder="input here"  max-list="3" list-height="25" :show-content="showContent"></moon-autocomplete-input>
		 * v-model:接收返回值 
		 * data :数据源//默认为空 
		 * placeholder：提示内容//默认为空
		 * show-content： 对象数组所参与筛选和显示的字段名 ，默认会直接展示对象
		 * max-list：筛选后下拉列表最大高度，默认最大高度就是全部数据累加高度
		 * list-height：下拉列表中每组数据所占的高度 //默认是input的高度。
		 * @ author 闰月飞鸟
		 * */
		Vue.component("moon-autocomplete-input", {
			template: `
		<div class="moon-autocomplete-input" v-clickoutside.enter="handleClose">    
			<input type="text" v-element-xywh="getPostion"@focus="onFoucs"@keyup.enter="Blur" :placeholder="thisPlaceholder" v-model.trim="inputValue"  @keydown.down.prevent="selectdown" @keydown.up.prevent="selectup" />
		  	<div  class="moon-autocomplete-ul-div" v-cloak :style="ul_style" v-show="show_ul&&filterData.length>0" v-element="getScoll">
				<ul>
					<li v-for="(value,index) in filterData " :key="index" @click="selectThis(value)" :style="style":class="{'moon-autocomplete-li':ind ==index}"> 
					{{value&&showContent&&value[showContent]? typeof(value[showContent]) == "string" ? value[showContent] .trim(): JSON.stringify(value[showContent]).trim(): typeof(value) == "string" ? value.trim() : JSON.stringify(value).trim()}}
					</li>
				</ul>
			</div> 
		</div>
		`,
			props: {
				value: null,
				data: {
					type: Array,
					default: function() {
						return [];
					}
				},
				placeholder: {
					type: String,
					default: ""
				},
				showContent: {
					type: String,
					default: ""
				},
				maxList: {
					type: [Number, String],
					default: function() {
						return this.data.length;
					}
				},
				listHeight: [Number, String]
			},
			created() {
				if(JSON.stringify(this.data).trim()[0] != "[") {
					this.data = [];
					console.error("error: 'data' of <moon-autocomplete-input>  is Not a Array")
				}
			},
			data() {
				return {
					inputValue: "",
					elementPostion: {
						top: 0,
						left: 0,
						width: 0,
						height: 0
					},
					show_ul: false,
					ind: -1,
					lastFilterData: [],
					element_dropdown: "",
					thisPlaceholder: this.placeholder
				}
			},
			watch: {
				value(val) {
					val = val ? typeof(val) == "string" ? val.trim() : JSON.stringify(val).trim() : "";
					if(val.length == 0) {
						this.inputValue = ""
						this.thisPlaceholder = "请重新输入数据"
					}
					else {
						this.thisPlaceholder = this.placeholder
					}
				},
				inputValue(val) {
					this.inputValue = val ? typeof(val) == "string" ? val.trim() : JSON.stringify(val).trim() :
						"";
				},
				ind(val) {
					var e = this.element_dropdown;
					if(val >= this.maxList) {
						e.scrollTop = (val - this.maxList + 1) * (this.setListHeight + 1)
					}
					else {
						e.scrollTop = 0
					}
				}
			},
			methods: {
				selectThis(val) {
					this.inputValue = this.showContent && val && val[this.showContent] ? val[this.showContent] :
						val;
					this.returnValue(val);
					//点击后关闭
					this.show_ul = false;
				},
				getScoll(e) {
					this.element_dropdown = e;
				},
				selectdown(e) {
					var filterDataLength = this.filterData.length;
					if(filterDataLength > 0) {
						++this.ind;
						if(this.ind >= filterDataLength) {
							this.ind = 0;
						}
						if(this.ind >= 0) {
							var val = this.filterData[this.ind];
							this.inputValue = this.showContent.length > 0 && val && val[this.showContent] ? val[this
								.showContent] : val;
						}
					}
				},
				selectup(e) {
					var filterDataLength = this.filterData.length;
					if(filterDataLength > 0) {
						if(this.ind <= 0) {
							this.ind = filterDataLength;
						}
						--this.ind;
						if(this.ind >= 0) {
							var val = this.filterData[this.ind];
							this.inputValue = this.showContent.length > 0 && val && val[this.showContent] ? val[this
								.showContent] : val;
						}
					}
				},
				Blur(e) {
					e.target.blur();
				},
				//通过指令拿到当前元素的坐标及长宽
				getPostion(left, top, width, height) {
					this.elementPostion.top = top;
					this.elementPostion.left = left;
					this.elementPostion.width = width;
					this.elementPostion.height = height;
				},
				onFoucs() {
					this.show_ul = true;
				},
				handleClose(status) {
					this.ind = -1; //清空updown标记
					if(status != "UpDown" && this.show_ul) {
						this.show_ul = false;
						//用户自己输入全名时，返回对应数据对象
						//当用户输入中途退出下拉类表时，自动优先选择所筛选的数据中第一个与筛选条件完全相符的数据，若都不符则选择第一个数据返回
						var showContent = this.showContent ? this.showContent.trim() : "";
						if(status == "ChoiceAndClose-Click" && !this.inputValue) {
							this.returnValue("");
						}
						if(status == "ChoiceAndClose-Enter" && !this.inputValue) {
							this.inputValue = this.data[0] && showContent && this.data[0][showContent] ? this.data[0]
								[
									showContent
								] : this.data[0]
							this.returnValue(this.data[0]);
						}
						if(this.inputValue) {
							//this.inputValue的值会引起this.filterData的改变
							if(this.filterData.length > 0) {
								var getRetrun = this.filterData.filter(function(value) {
									value = this.showContent.trim() && value[this.showContent.trim()] ? value[this.showContent] :
										value
									var filterValue = typeof(value) == "string" ? value.trim().toUpperCase() : JSON.stringify(
										value).trim().toUpperCase();
									return filterValue == this.inputValue.trim().toUpperCase()
								}.bind(this));
								if(getRetrun.length > 0) {
									this.returnValue(getRetrun[0]);
								}
								else {
									this.returnValue(this.filterData[0]);
									this.inputValue = showContent && this.filterData[0][showContent] ? this.filterData[0][
										showContent
									] : this.filterData[0]
								}
							}
							else {
								this.returnValue("");
								this.inputValue = "";
							}
						}
					}
				},
				returnValue(val) {
					this.$emit('input', val);
				}
			},
			computed: {
				setListHeight() {
					if(this.listHeight) {
						var toS = (typeof(this.listHeight) == "string" ? this.listHeight.trim() : JSON.stringify(
							this.listHeight).trim());
						return parseInt(toS) ? parseInt(toS) : this.elementPostion.height
					}
					else return this.elementPostion.height
				},
				style() {
					return {
						"height": this.setListHeight + 'px',
						"line-height": this.setListHeight + 'px'
					}
				},
				ul_style() {
					var maxNum = this.maxList;
					maxNum = typeof(maxNum) == "string" ? (parseInt(maxNum) ? parseInt(maxNum) : this.filterData
						.length) : maxNum;
					var minH = this.setListHeight + 1;
					if(this.filterData.length > maxNum) {
						minH = minH * maxNum;
					}
					else {
						minH = minH * this.filterData.length
					}
					return {
						top: this.elementPostion.top + this.elementPostion.height + 2 + 'px',
						lef: this.elementPostion.left + 'px',
						width: this.elementPostion.width - 2 + 'px', //每个边框也有1px，固要减去2
						height: minH + 'px'
					}
				},
				filterData() {
					if(this.ind >= 0) {
						return this.lastFilterData;
					}
					//将所有非字符串的数据类型转成string大写 ,
					var inputValue = typeof(this.inputValue) == "string" ? this.inputValue.trim().toUpperCase() :
						JSON.stringify(this.inputValue).trim().toUpperCase();
					if(inputValue) {
						var filterData = this.data.filter(function(value) {
							value = this.showContent.trim() && value[this.showContent.trim()] ? value[this.showContent] :
								value
							var filterValue = typeof(value) == "string" ? value.trim().toUpperCase() : JSON.stringify(
								value).trim().toUpperCase();
							return filterValue.indexOf(inputValue) !== -1
						}.bind(this));
						this.lastFilterData = filterData;
						return filterData;
					}
					else {
						this.lastFilterData = this.data;
						return this.data;
					}
				}
			},
			directives: {
				/**
				 * 指令，获取元素，类似jQuery $("#") document.getElementById("")
				 * API :  v-element="function getEl(el)"  返回指令所在dom元素
				 * @ author 闰月飞鸟
				 **/
				"element": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					},
					unbind(el, binding) {}
				},
				/**
				 * 指令，获取元素坐标及大小v-element-xywh
				 * API :  v-element-xywh="function getElPostion(left,top,width,heigh)"  返回指令所在dom元素的坐标及宽度高度 与当前元素
				 * @ author 闰月飞鸟
				 **/
				"element-xywh": {
					bind(el, binding) {},
					inserted(el, binding) {},
					update(el, binding) {},
					componentUpdated(el, binding) {
						function getElemPos(obj) {
							var pos = {
								"top": 0,
								"left": 0
							};
							if(obj.offsetParent) {
								while(obj.offsetParent) {
									pos.top += obj.offsetTop;
									pos.left += obj.offsetLeft;
									obj = obj.offsetParent;
								}
							}
							else if(obj.x) {
								pos.left += obj.x;
							}
							else if(obj.x) {
								pos.top += obj.y;
							}
							return {
								left: pos.left,
								top: pos.top
							};
						}
						var pos = getElemPos(el);
						if(binding.expression) {
							binding.value(pos.left, pos.top, el.offsetWidth, el.offsetHeight, el);
						}
					},
					unbind(el, binding) {}
				},
				"clickoutside": {
					bind(el, binding, vnode) {
						function documentHandle(e) {
							//当监听事件被触发，判断当前触发监听的元素是否被包含在 指令所在的元素内 
							if(el.contains(e.target)) {
								binding.value("UpDown");
								return;
							}
							//判断指令是否拥有外部引用,没有外部引用，binding.value就是undefined
							if(binding.expression) {
								binding.value("ChoiceAndClose-Click");
							}
						}
						//将函数存入 el对象中，用于后续接粗监听
						el.documentHandle = documentHandle;
						document.addEventListener("click", documentHandle);

						function keyDown(e) {
							if(e.keyCode != 38 && e.keyCode != 40 && e.keyCode != 13 && e.keyCode != 9) {
								binding.value("UpDown");
							}
							if(e.keyCode == 13) {
								binding.value("ChoiceAndClose-Enter");
							}
							if(e.keyCode == 9) {
								binding.value("ChoiceAndClose-Click");
							}
						}
						if(binding.modifiers.enter) {
							el._keydown = keyDown;
							el.addEventListener('keydown', keyDown);
						}
					},
					unbind(el, binding) {
						//删除 el对象中自己添加的键值 ,及监听
						document.removeEventListener("click", el.documentHandle);
						delete el.documentHandle;
						if(binding.modifiers.esc) {
							el.removeEventListener(e._keydown);
							delete el._keydown;
						}
					}
				}
			}
		});
		/*组件dropdown
		 *API
		 * data-array：接收dropdown需要展现的数组
		 * to-id：绑定到一个dom元素，只能是ID，绑定到元素时，dropdown显示的位置是在该元素的下面，不绑定则根据css里的样式显示
		 * v-model：接收布尔型数据，用于控制显示
		 * @selected:返回函数 ，参数是选中菜单的下标 
		 * **/
		Vue.component("moon-dropdown", {
			template: `<div class="moon-dropdown"  v-show="value":style="thisStyle" v-cloak v-moon-dropdwon-clickout="thisOutside">
				<slot></slot>
			</div>`,
			name: "moon-dropdown",
			props: {
				value: {
					type: Boolean,
					default: false
				},
				toId: {
					type: String,
					default: ""
				}
			},
			mounted() {
				if(typeof(this.toId) == "string" && this.toId[0] == "#") {
					this.thisStyle = this.getElemPos(document.getElementById(this.toId.substring(1)))
				}
				else {
					this.toId = "";
				}
			},
			data() {
				return {
					thisStyle: {}
				}
			},
			methods: {
				getElemPos(obj) {
					var pos = {
						"top": 0,
						"left": 0
					};
					var objH = obj.offsetHeight;
					if(obj.offsetParent) {
						while(obj.offsetParent) {
							pos.top += obj.offsetTop;
							pos.left += obj.offsetLeft;
							obj = obj.offsetParent;
						}
					}
					else if(obj.x) {
						pos.left += obj.x;
					}
					else if(obj.x) {
						pos.top += obj.y;
					}
					return {
						left: pos.left + 'px',
						top: pos.top + objH + 2 + 'px'
					};
				},
				thisOutside(e) {
					if(this.value) {
						if(typeof(this.toId) == "string" && this.toId[0] == "#") {
							if(!document.getElementById(this.toId.substring(1)).contains(e.target)) {
								this.thisValue = false;
								this.$emit("input", false)
							}
						}
						else {
							this.thisValue = false;
							this.$emit("input", false)
						}
					}
				}
			},
			directives: {
				"moon-dropdwon-clickout": {
					bind(el, binding, vnode) {
						el.oncontextmenu = function(e) {
							e.preventDefault();
						};

						function documentHandle(e) {
							if(el.contains(e.target)) {
								return;
							}
							if(binding.expression) {
								binding.value(e);
							}
						}
						el.documentHandle = documentHandle;
						document.addEventListener("click", documentHandle);
					},
					unbind(el, binding) {
						document.removeEventListener("click", el.documentHandle);
						document.oncontextmenu = function(e) {}
						delete el.documentHandle;
					}
				}
			}
		});
		Vue.component("moon-icon", {
			template: `<svg class="moon-icon" aria-hidden="true">
					<use :xlink:href="'#'+name"></use>
				</svg>
				`,
			props: {
				name: {
					type: String,
					required: true
				}
			}
		});
		/*loading加载中应该更具所在的dom父节点来显示，如图片加载，页面加载 加载时需要将原有的页面固定，即不可点击，不能滚动
		 * loading的图片可以自定义
		 * 放在组件外围div中，如button
		 * 也可以指定dom节点，现支持body，id，class 中的第一个元素
		 * API
		 * positionEl 接收所制定的元素的 id，class 或 body
		 * */
		Vue.component("moon-loading", {
			template: ' <div class="moon-loading" v-loading="getParentNode" :style="setNodeStyle"></div>',
			props: {
				positionEl: {
					type: String,
					default: ""
				}
			},
			data() {
				return {
					parentNode: "",
					thisNode: "",
					isStatic: false
				}
			},
			computed: {
				parentNodePostion() {
					if(this.parentNode) {
						this.isStatic = this.getStyle(this.parentNode, "position").indexOf("static") >= 0 ? true :
							false
						return this.getElemPos(this.parentNode);
					}
				},
				setNodeStyle() {
					var thisStyle = {}
					if(this.parentNodePostion) {
						var backgroundPositionH = "center center";
						var thisPsition = "absolute"
						if(this.positionEl.indexOf("body") >= 0) {
							backgroundPositionH = "center 200px"
							thisPsition = "fixed"
						}
						else {
							backgroundPositionH = "center center"
						}
						var bcSizeW = this.parentNodePostion.width <= 35 ? this.parentNodePostion.width + 'px' :
							this.parentNodePostion.width / 2 <= 50 ? this.parentNodePostion.width / 5 + 'px' :
							'auto'
						var bcSizeH = this.parentNodePostion.height <= 35 ? this.parentNodePostion.height + 'px' :
							this.parentNodePostion.height / 2 <= 50 ? this.parentNodePostion.height / 5 + 'px' :
							'auto'
						thisStyle = {
							"top": this.parentNodePostion.top + 'px',
							"left": this.parentNodePostion.left + 'px',
							"width": this.parentNodePostion.width + 'px',
							"height": this.parentNodePostion.height + 'px',
							"background-size": bcSizeW + " " + bcSizeH,
							"z-index": 99999,
							"background-repeat": 'no-repeat',
							"position": thisPsition,
							"background-position": backgroundPositionH
						}
						if(!this.isStatic) {
							thisStyle.top = '0px';
							thisStyle.left = '0px';
						}
					}
					return thisStyle
				}
			},
			directives: {
				"loading": {
					inserted(el, binding) {
						if(binding.expression) {
							binding.value(el.parentNode, el);
						}
					}
				}
			},
			methods: {
				getStyle(obj, attr) {
					if(obj.currentStyle) {
						return obj.currentStyle[attr];
					}
					else {
						return document.defaultView.getComputedStyle(obj, null)[attr];
					}
				},
				getParentNode(parentNode, el) {
					if(this.positionEl) {
						if(this.positionEl.indexOf("body") >= 0) {
							this.parentNode = document.body
						}
						else if(this.positionEl.indexOf("#") >= 0) {
							this.parentNode = document.getElementById(this.positionEl.split("#")[1])
						}
						else if(this.positionEl.indexOf(".") >= 0) {
							this.parentNode = document.getElementsByClassName(this.positionEl.split(".")[1])[0]
						}
						else {
							this.parentNode = parentNode;
						}
					}
					else this.parentNode = parentNode;
					this.thisNode = el;
				},
				getElemPos(obj) {
					var pos = {
						top: 0,
						left: 0,
						width: obj.offsetWidth,
						height: obj.offsetHeight
					};
					if(obj.offsetParent) {
						while(obj.offsetParent) {
							pos.top += obj.offsetTop;
							pos.left += obj.offsetLeft;
							obj = obj.offsetParent;
						}
					}
					else if(obj.x) {
						pos.left += obj.x;
					}
					else if(obj.x) {
						pos.top += obj.y;
					}
					return pos;
				}
			}
		});
		Vue.component("moon-render", {
			props: {
				moonRender: {
					type: Function
				}
			},
			render: function(h) {
				return this.moonRender(h)
			}
		})
		/*图片显示组件，
		 * 接收父组件传过来的scr，渲染出图片
		 * 可以删除当前图片，删除图片后 返回给父组件空字符串
		 * 加载图片过程中显示loading
		 * 加载图片时出错  返回给父组件空字符串
		 * API 
		 * v-model 绑定一个值传递scr
		 * */
		Vue.component("moon-show-image", {
			template: `
				<div class="moon-upLoadImg_show" v-cloak>
					<div class="moon-upLoadImg_show_deleteSelected" @click="removePic"></div>
					<div :style="style" class="moon-upLoadImg_show_selected" v-show-pic="getElement"></div>
					<moon-loading v-if="showLoading"></moon-loading> 
				</div> 
			`,
			props: ["value"],
			data() {
				return {
					showLoading: true,
					thisSrc: "",
					isDefault: false,
					thisWidth: "",
					thisHeight: ""
				}
			},
			directives: {
				"show-pic": {
					inserted(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					}
				}
			},
			computed: {
				style() {
					return {
						"background-image": this.isDefault ? "" : " url(" + this.thisSrc + ")",
						"background-repeat": 'no-repeat',
						"background-size": '100% 100% ',
						"border": this.isDefault ? "1px solid black" : "0px solid black",
						"width": this.isDefault ? this.thisWidth - 2 + 'px' : this.thisWidth + 'px',
						"height": this.isDefault ? this.thisHeight - 2 + 'px' : this.thisHeight + 'px'
					}
				}
			},
			methods: {
				getElement(el) {
					this.thisWidth = parseInt(this.getStyle(el, "width"));
					this.thisHeight = parseInt(this.getStyle(el, "height"));
				},
				getStyle(obj, attr) {
					if(obj.currentStyle) {
						return obj.currentStyle[attr];
					}
					else {
						return document.defaultView.getComputedStyle(obj, null)[attr];
					}
				},
				removePic() {
					this.isDefault = true;
					if(this.value) this.$emit("input", "")
				},
				checkImage(src) {
					this.showLoading = true;
					this.isDefault = true;
					if(!src) {
						return;
					}
					var img = new Image();
					img.src = src;
					img.onload = function(val) {
						this.thisSrc = val.target.src
						this.isDefault = false;
						this.showLoading = false;
					}.bind(this);
					img.onerror = function(val) {
						this.$emit("input", "")
					}.bind(this);
				}
			},
			mounted() {
				this.checkImage(typeof(this.value) == "string" ? this.value.trim() : window.URL.createObjectURL(
					this.value))
			},
			watch: {
				value(val) {
					this.checkImage(typeof(val) == "string" ? val.trim() : window.URL.createObjectURL(val));
				}
			}
		});
		/*data 数据源，
*left-icon :ionicons开放数据源图标，
	<script src="https://unpkg.com/ionicons@4.1.1/dist/ionicons.js"></script>
	左侧图标 数组,第一个为关闭图标字符串代码，第二个为展开图标字符串代码，也可以不写，默认图标
*v-model:接收所选择的节点 
*
* tree-structure:配置data树的数据结构，默认的是
* 				{
*					"id": "id",
*					"parentId": "parentId",
*					"title": "title"
*				}
* 数据 中 selected 对象为选择当前选中对象，expand默认展开节点
* */
		/*data 数据源，
*left-icon :ionicons开放数据源图标，
	<script src="https://unpkg.com/ionicons@4.1.1/dist/ionicons.js"></script>
	左侧图标 数组,第一个为关闭图标字符串代码，第二个为展开图标字符串代码，也可以不写，默认图标
*v-model:接收所选择的节点 
*
* tree-structure:配置data树的数据结构，默认的是
* 				{
*					"id": "id",
*					"parentId": "parentId",
*					"title": "title"
*				}
* 数据 中 selected 对象为选择当前选中对象，expand默认展开节点
* */
		/*data 数据源，
*left-icon :ionicons开放数据源图标，
	<script src="https://unpkg.com/ionicons@4.1.1/dist/ionicons.js"></script>
	左侧图标 数组,第一个为关闭图标字符串代码，第二个为展开图标字符串代码，也可以不写，默认图标
*v-model:接收所选择的节点 
*
* tree-structure:配置data树的数据结构，默认的是
* 				{
*					"id": "id",
*					"parentId": "parentId",
*					"title": "title"
*				}
* <moon-tree ref="moontree" checkbox="on" v-model="treeData" rightclick="on " @rightclick="rightclick"
			 checkbox-size="small" @on-selected="onSelected">
* */
		Vue.component("moon-tree", {
			name: "moon-tree",
			template: `
		<div style="position: relative;" v-element-xywh="getRelativeNode">
				<ul style="list-style-type: none; padding: 0px; margin: 0px;">
					<li v-for="(valueRoot,index) in root">
						<table class="moon-tree-table" cellspacing="0" :class="nodeClass(index)">
							<tr :id="valueRoot[treeStructure.id]" class="moon-tree-cursor-style" v-element="getEl">
								<td class="moon-tree-td-icon"  @click="clicked(index)" style="padding-right: 0px;">
									<moon-icon :name="icon[index]" v-show="nextRoot[index].length>0"></moon-icon>
								</td>
								<td  style="cursor: auto;" @click="onCheckBoxTd(index)"class="moon-tree-td-checkbox" v-if="checkbox.indexOf('on')!=-1">
									<span class="moon-checkbox" :class="{'moon-checkbox-checked':valueRoot.checked,'moon-checkbox-indeterminate':valueRoot.indeterminate,'moon-checkbox-small':checkboxSize.indexOf('small')!=-1,'moon-checkbox-large':checkboxSize.indexOf('large')!=-1}">
									<span class="moon-checkbox-inner"></span>
									<input type="checkbox" v-model="valueRoot.checked" @change='onCheckBox(index)' class="moon-checkbox-input">
									</span>
								</td>
								<td  class="moon-tree-td-text" @click="clicked(index)" :class="selectCssClass(index)">{{valueRoot[treeStructure.title]}}</td>
							</tr>
						</table>
						<moon-tree :checkbox-size="checkboxSize" :check-ctrl='checkCtrl' :checkbox='checkbox' :key="index" v-if="nextRoot[index].length>0"
						 :tree-structure="treeStructure" :left-icon="leftIcon" v-model="value" v-show="shwoChildNode[index]"
						 :seconddata="seconddata" :rootdata="nextRoot[index]" class="moon-tree-next-node" :relative-node="relativeNode"></moon-tree>
					</li>
				</ul>
				<moon-dropdown v-if="rightclick.indexOf('on')!=-1" v-model="dropShow" :style="rightDropDown">
					<slot>请构建所需的Dom内容</slot>
				</moon-dropdown>
			</div> 
	`,
			props: {
				value: {
					type: Array
				},
				checkboxSize: {
					type: String,
					default: "default"
				},
				checkbox: {
					type: String,
					default: "off"
				},
				treeStructure: {
					type: Object,
					default: function() {
						return {
							"id": "id",
							"parentId": "parentId",
							"title": "title"
						}
					}
				},
				rootdata: {
					type: Array,
					default: function() {
						return [];
					}
				},
				seconddata: {
					type: Array,
					default: function() {
						return [];
					}
				},
				checkCtrl: {
					type: Array,
					default: function() {
						return [];
					}
				},
				leftIcon: {
					type: Array,
					default: function() {
						return ["moon-icon-expand-right", "moon-icon-expand-down"];
					}
				},
				rightclick: {
					type: String,
					default: "off"
				},
				relativeNode: {
					type: null,
					default: function() {
						return {
							left: 0,
							top: 0,
							width: 0,
							height: 0
						}
					}
				}
			},
			data() {
				return {
					shwoChildNode: [],
					icon: [],
					root: [],
					dropShow: false,
					rightDropDown: {},
					rightClickNodeId: "",
					changeId: -1,
					changeParentId: -1,
					onSelected: {},
					needChange: this.rootdata.length != 0 ? this.$parent.needChange : this.comMethods.guid()
				}
			},
			mounted() {
				this.init()
			},
			watch: {
				needChange(val) {
					if(this.rootdata.length != 0) {
						this.$parent.needChange = val
					}
					else {
						this.$emit("input", JSON.parse(JSON.stringify(this.value)))
					}
				},
				onSelected(val) {
					if(this.rootdata.length != 0) {
						this.$parent.onSelected = this.onSelected;
					}
					else {
						this.$emit("on-selected", val);
					}
				},
				value(obj, old) {
					if(old.length == 0) this.init()
					else {
						this.root = this.getRoot();
						this.dropShow = false;
						this.seconddata.splice(0);
						obj.forEach(function(value, index) {
							var mid = {}
							mid[this.treeStructure.id] = value[this.treeStructure.id];
							mid.index = index;
							if(value.selected) {
								mid.selected = true;
							}
							else mid.selected = false;
							this.seconddata.push(mid)
							if(value.checked) value.expand = true;
						}.bind(this))
					}
				},
				root(val) {
					this.shwoChildNode.splice(0)
					this.icon.splice(0)
					val.forEach(function(value) {
						value.expand ? this.shwoChildNode.push(true) : this.shwoChildNode.push(false);
						value.expand ? this.icon.push(this.leftIcon[1]) : this.icon.push(this.leftIcon[0]);
					}.bind(this));
				},
				rightDropDown(val) {
					if(this.rootdata.length != 0) {
						this.$parent.rightDropDown = this.rightDropDown;
						this.$parent.dropShow = this.dropShow;
						this.$parent.rightClickNodeId = this.rightClickNodeId
					}
					else {
						let $this = this
						var emitData = {};
						this.value.forEach((value) => {
							if(value[$this.treeStructure.id] === $this.rightClickNodeId) {
								emitData = JSON.parse(JSON.stringify(value));
							}
						})
						this.$emit("rightclick", emitData);
					}
				}
			},
			computed: {
				selectClass() {
					var thisClass = [];
					this.root.forEach(function(value, index) {
						this.seconddata.forEach(function(value2, index2) {
							if(value2[this.treeStructure.id] == value[this.treeStructure.id]) {
								thisClass.push(value2.selected)
							}
						}.bind(this))
					}.bind(this));
					return thisClass;
				},
				nextRoot() {
					//筛选出一root.id为parentId的元素 
					var next_root = [];
					this.root.forEach(function(value, index) {
						let next = this.selectArray(this.value, value[this.treeStructure.id])
						/*	this.checkCtrl.forEach((val, ind) => {
								if(val.id) {
									if(val.id == value[this.treeStructure.id]) {}
								}else{
									
								}
							})*/
						next_root.push(next)
					}.bind(this));
					return next_root;
				}
			},
			methods: {
				onCheckBoxTd(index) {
					this.root[index].checked = !this.root[index].checked
					this.onCheckBox(index)
				},
				init() {
					this.value.forEach(function(value, index) {
						if(value.checked == undefined) value.checked = false
						if(value.indeterminate == undefined) value.indeterminate = false
						if(value.defaultChecked) {
							this.changeId = value[this.treeStructure.id];
							value.checked = true
						}
					}.bind(this))
					this.root = this.getRoot();
					this.seconddata.splice(0);
					this.value.forEach(function(value, index) {
						var mid = {}
						mid[this.treeStructure.id] = value[this.treeStructure.id];
						mid.index = index;
						if(value.selected) {
							mid.selected = true;
							this.onSelected = value
						}
						else mid.selected = false;
						mid.dropShow = false;
						this.seconddata.push(mid)
						if(value.checked) value.expand = true;
					}.bind(this))
					this.root.forEach(function(value) {
						let exist = this.forCheckCtrl(this.checkCtrl, value[this.treeStructure.parentId], value[
							this.treeStructure.id], value.checked, value.indeterminate)
						if(!exist) {
							let v = {
								id: value[this.treeStructure.id],
								checked: value.checked,
								indeterminate: value.indeterminate,
								childcheckCtrl: []
							}
							this.checkCtrl.push(v)
						}
					}.bind(this));
					let getObj = this.getObjById(this.checkCtrl, this.changeId)
					getObj.indeterminate = false;
					this.setChileChecked(getObj.childcheckCtrl, getObj.checked)
					this.findParentId(this.value, this.changeId)
					this.updateData(this.checkCtrl)
				},
				findParentId(arr, beginId) {
					arr.forEach(function(value, index) {
						if(value[this.treeStructure.id] == beginId) {
							this.setParent(this.checkCtrl, value[this.treeStructure.parentId])
							this.findParentId(arr, value[this.treeStructure.parentId])
						}
					}.bind(this))
				},
				getObjById(arr, id) {
					let obj = {}
					arr.forEach(function(value, index) {
						if(value.id == id) obj = value
						else {
							if(value.childcheckCtrl.length > 0) {
								let o = this.getObjById(value.childcheckCtrl, id);
								if(JSON.stringify(o) != "{}") obj = o
							}
						}
					}.bind(this))
					return obj
				},
				setParent(arr, parentid) {
					let getParentObj = this.getObjById(arr, parentid)
					let checkstr = this.getChildCheck(getParentObj.childcheckCtrl)
					if(checkstr.indexOf("true") != -1 && checkstr.indexOf("false") != -1) getParentObj.indeterminate =
						true
					if(checkstr.indexOf("true") == -1) {
						getParentObj.indeterminate = false;
						getParentObj.checked = false
					}
					if(checkstr.indexOf("false") == -1) {
						getParentObj.indeterminate = false;
						getParentObj.checked = true
					}
				},
				updateData(arr) {
					arr.forEach(function(value, index) {
						this.value.forEach(function(val, ind) {
							if(val[this.treeStructure.id] == value.id) {
								val.checked = value.checked
								val.indeterminate = value.indeterminate
							}
						}.bind(this))
						if(value.childcheckCtrl.length > 0) this.updateData(value.childcheckCtrl)
					}.bind(this))
				},
				getChildCheck(arr) {
					let childcheck = "";
					if(arr == undefined) return childcheck
					arr.forEach(function(value, index) {
						childcheck += value.checked
						if(value.childcheckCtrl.length > 0) childcheck += this.getChildCheck(value.childcheckCtrl)
					}.bind(this))
					return childcheck
				},
				setChileChecked(arr, checked) {
					if(arr == undefined) return;
					arr.forEach(function(value, index) {
						value.checked = checked;
						value.indeterminate = false;
						if(value.childcheckCtrl.length > 0) {
							this.setChileChecked(value.childcheckCtrl, checked)
						}
					}.bind(this))
				},
				forCheckCtrl(arr, parentId, id, checked, indeterminate) {
					let exist = false;
					arr.forEach(function(value, index) {
						if(value.id == id) {
							exist = true;
							value.checked = checked
							value.indeterminate = indeterminate
						}
						if(value.id == parentId) {
							exist = true;
							let v = {
								id: id,
								checked: checked,
								indeterminate: indeterminate,
								childcheckCtrl: []
							}
							let have = false;
							value.childcheckCtrl.forEach((v, i) => {
								if(v.id == id) {
									have = true;
									v.checked = checked
									v.indeterminate = indeterminate
								}
							});
							if(!have) {
								value.childcheckCtrl.push(v)
							}
						}
						else {
							let getexist = this.forCheckCtrl(value.childcheckCtrl, parentId, id, checked,
								indeterminate)
							if(getexist) {
								exist = true
							}
						}
					}.bind(this))
					return exist
				},
				onCheckBox(index) {
					this.changeId = this.root[index][this.treeStructure.id]
					this.changeParentId = this.root[index][this.treeStructure.parentId]
					this.root.forEach(function(value) {
						let exist = this.forCheckCtrl(this.checkCtrl, value[this.treeStructure.parentId], value[
							this.treeStructure.id], value.checked, value.indeterminate)
						if(!exist) {
							let v = {
								id: value[this.treeStructure.id],
								checked: value.checked,
								indeterminate: value.indeterminate,
								childcheckCtrl: []
							}
							this.checkCtrl.push(v)
						}
					}.bind(this));
					let getObj = this.getObjById(this.checkCtrl, this.changeId)
					getObj.indeterminate = false;
					this.setChileChecked(getObj.childcheckCtrl, getObj.checked)
					this.findParentId(this.value, this.changeId)
					this.updateData(this.checkCtrl)
					this.needChange = this.comMethods.guid();
				},
				addNode(add) {
					if(!this.rightClickNodeId || typeof add != "object") {
						this.dropShow = false;
						return;
					}
					add.selected = true;
					let $this = this;
					this.value.forEach(function(value, index) {
						if(value[this.treeStructure.id] == this.rightClickNodeId) {
							value.expand = true;
						}
						if(value.selected) {
							value.selected = false
						}
					}.bind(this))
					this.value.push(add);
					this.onSelected = add
					return add
				},
				deleteNode(callback) {
					if(!this.rightClickNodeId) {
						this.dropShow = false;
						return;
					}
					var ind = -1;
					var allow = true;
					this.dropShow = false;
					this.value.forEach(function(value, index) {
						if(value[this.treeStructure.id] == this.rightClickNodeId) {
							ind = index;
						}
						if(value[this.treeStructure.parentId] == this.rightClickNodeId) {
							allow = false;
						}
					}.bind(this));
					if(allow) {
						this.value.splice(ind, 1)
						this.value.forEach((value, index) => {
							value.selected = false;
						})
						return true;
					}
					else {
						try {
							callback()
						}
						catch(e) {
							if(callback != undefined) console.warn("callback不是函数")
						}
						return false;
					}
				},
				editNode(changeVal) {
					if(!this.rightClickNodeId || typeof changeVal != "object") {
						this.dropShow = false;
						return
					}
					var ind = -1;
					this.value.forEach(function(value, index) {
						if(value[this.treeStructure.id] == this.rightClickNodeId) {
							ind = index;
						}
						else if(value.selected) {
							value.selected = false
						}
					}.bind(this));
					changeVal.selected = true;
					this.value.splice(ind, 1, changeVal);
					this.onSelected = changeVal
				},
				getRoot() {
					if(this.rootdata.length != 0) {
						return this.rootdata
					}
					var parentIds = [];
					var ids = [];
					var rootParentIds = [];
					var root = [];
					this.value.forEach(function(value) {
						parentIds.push(value[this.treeStructure.parentId]);
						ids.push(value[this.treeStructure.id]);
					}.bind(this));
					parentIds.forEach(function(value) {
						if(ids.indexOf(value) == -1) {
							rootParentIds.push(value)
						}
					});
					this.value.forEach(function(value, index) {
						if(rootParentIds.indexOf(value[this.treeStructure.parentId]) != -1) {
							root.push(value);
						}
					}.bind(this));
					return root;
				},
				selectArray(arr, where) {
					var mid = [];
					arr.forEach(function(value, index) {
						if(value[this.treeStructure.parentId] == where) {
							mid.push(value);
						}
					}.bind(this))
					return mid;
				},
				clicked(index) {
					this.shwoChildNode.splice(index, 1, !this.shwoChildNode[index])
					this.root[index].expand = this.shwoChildNode[index];
					if(this.shwoChildNode[index]) {
						this.icon.splice(index, 1, this.leftIcon[1])
					}
					else {
						this.icon.splice(index, 1, this.leftIcon[0])
					}
					if(this.nextRoot[index].length == 0) {
						this.seconddata.forEach(function(value, index2) {
							var val = value;
							if(value[this.treeStructure.id] == this.root[index][this.treeStructure.id]) {
								val.selected = true;
							}
							else {
								val.selected = false;
							}
							this.seconddata.splice(index2, 1, val)
						}.bind(this))
						this.value.forEach(function(value, index2) {
							var val = value;
							if(value[this.treeStructure.id] == this.root[index][this.treeStructure.id]) {
								val.selected = true;
							}
							else {
								val.selected = false;
							}
							this.seconddata.splice(index2, 1, val)
						}.bind(this))
					}
					var emit = {}
					Object.assign(emit, this.root[index])
					this.onSelected = emit
				},
				getRelativeNode(left, top, width, height, el) {
					if(this.rightclick.indexOf('off') == -1) {
						this.relativeNode.left = left;
						this.relativeNode.top = top;
						this.relativeNode.width = width;
						this.relativeNode.height = height;
					}
				},
				getEl(el) {
					el.oncontextmenu = function(e) {
						e.preventDefault();
					};
					el.onmousedown = function(e) {
						switch(e.button) {
							case 0:
								break;
							case 1:
								break;
							case 2:
								var thisPosition = this.comMethods.getElemPos(el)
								this.rightDropDown = {
									top: e.offsetY + thisPosition.top - this.relativeNode.top + 'px',
									left: e.offsetX + thisPosition.left - this.relativeNode.left + 'px'
								}
								this.dropShow = true;
								this.rightClickNodeId = el.id
								break;
							default:
								break;
						}
					}.bind(this)
				},
				nodeClass(index) {
					return {
						'moon-tree-next-node': this.nextRoot[index].length == 0,
						'moon-tree-root': this.rootdata.length == 0 || (this.rootdata.length == 0 && this.nextRoot[
							index].length == 0),
						'moon-tree-mid': this.rootdata.length != 0 && this.nextRoot[index].length != 0,
						'moon-tree-last': this.rootdata.length != 0 && this.nextRoot[index].length == 0
					}
				},
				selectCssClass(index) {
					return {
						'moon-tree-selected': this.selectClass[index] && this.nextRoot[index].length == 0,
						'moon-tree-unselected': !this.selectClass[index]
					}
				}
			},
			directives: {
				"element": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					},
					unbind(el, binding) {}
				},
				/**
				 * 指令，获取元素坐标及大小v-element-xywh
				 * API :  v-element-xywh="function getElPostion(left,top,width,heigh)"  返回指令所在dom元素的坐标及宽度高度 与当前元素
				 * @ author 闰月飞鸟
				 **/
				"element-xywh": {
					bind(el, binding) {},
					inserted(el, binding) {},
					update(el, binding) {},
					componentUpdated(el, binding) {
						function getElemPos(obj) {
							var pos = {
								"top": 0,
								"left": 0,
								"width": obj.offsetWidth,
								"height": obj.offsetHeight
							};
							if(obj.offsetParent) {
								while(obj.offsetParent) {
									pos.top += obj.offsetTop;
									pos.left += obj.offsetLeft;
									obj = obj.offsetParent;
								}
							}
							else if(obj.x) {
								pos.left += obj.x;
							}
							else if(obj.x) {
								pos.top += obj.y;
							}
							return pos;
						}
						var pos = getElemPos(el);
						if(binding.expression) {
							binding.value(pos.left, pos.top, el.offsetWidth, el.offsetHeight, el);
						}
					},
					unbind(el, binding) {}
				}
			}
		});
		/**图片上传组件
		 * 可以一次多选，也可以多次选择 
		 * API
		 * v-model 用于接受返回值和修改值
		 * array-type  数组内数据类型 默认是file，可以返回压缩后的Base64(先返回的是file然后用Base64替换，当用watch时会体现出来，这样做用户体验更好)
		 */
		Vue.component("moon-upload-image", {
			template: `
	      			<div class="moon-upLoadImg">     
								<div class="moon-upLoadImg_ready">
									<p class="moon-upLoadImg_ready_p"></p>
									<form v-form-el="getFormEl">
									<input class="moon-upLoadImg_ready_input" type="file" @change="loadPic($event)" :id="labelId" accept="image/jpg,image/jpeg,image/png,image/bmp" multiple="multiple">
									</form>
									<label class="moon-upLoadImg_ready_label" :for="labelId">
									  <moon-icon name="moon-icon-fangdajing"></moon-icon>
									</label>
								</div>
							  <div class="moon-upLoadImg_line" v-show="showResult.length>0"><b></b></div> 
							  <moon-show-image v-if="showResult[index]"  v-model="showResult[index]" v-for="(value,index) in showResult" :key="thisUUID[index]"></moon-show-image>
					  </div>
				`,
			props: {
				value: {
					type: Array,
					default: function() {
						return [];
					}
				},
				arrayType: {
					type: String,
					default: "file"
				}
			},
			directives: {
				"form-el": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					}
				}
			},
			mounted() {
				switch(this.arrayType.toLowerCase().trim()) {
					case 'file':
						this.datatype = 1;
						break;
					case 'base64':
						this.datatype = 2;
						break;
				}
				this.showResult.forEach(function() {
					this.thisUUID.push(this.comMethods.guid())
				}.bind(this))
			},
			data() {
				return {
					showResult: this.value,
					datatype: 1,
					formEl: "",
					thisUUID: []
				}
			},
			computed: {
				labelId() {
					return "id_" + this.comMethods.guid();
				}
			},
			watch: {
				showResult(val) {
					val.forEach(function(value, index) {
						if(!value) {
							val.splice(index, 1);
							this.thisUUID.splice(index, 1);
						}
					}.bind(this))
				}
			},
			methods: {
				getFormEl(el) {
					this.formEl = el;
				},
				//加载图片
				loadPic: function(e) {
					var fileList = e.target.files; //获取的图片   
					var images = [];
					var presentL = this.showResult.length;
					for(var i = 0; i < fileList.length; i++) {
						if(fileList[i]) {
							switch(this.datatype) {
								case 1:
									this.showResult.push(fileList[i]);
									this.thisUUID.push(this.comMethods.guid());
									break;
								case 2:
									images.push(new Image());
									images[i].src = window.URL.createObjectURL(fileList[i]);
									this.showResult.push(images[i].src)
									this.thisUUID.push(this.comMethods.guid());
									images[i].id = i + presentL;
									images[i].onload = function(val) {
										var id = val.target.id;
										this.showResult.splice(id, 1, this.comMethods.compressImage(val.target))
									}.bind(this);
									break;
							}
						}
					}
					if(this.formEl) this.formEl.reset();
				}
			}
		});
	}
}
export default MyComponents